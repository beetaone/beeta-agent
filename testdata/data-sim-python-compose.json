{
    "version": "3.8",
    "networks": {
      "mosquitto-net": null
    },
    "services": {
      "mosquitto_broker": {
        "networks": [
          "mosquitto-net"
        ],
        "image": "weevenetwork/mosquitto_broker",
        "build": {
          "context": "../images/mosquitto-broker"
        },
        "command": []
      },
      "raw-data-sim": {
        "depends_on": [
          "mosquitto_broker"
        ],
        "build": {
          "context": "../images/demo010-raw-data-sim"
        },
        "networks": [
          "mosquitto-net"
        ],
        "image": "weevenetwork/raw-data-sim:demo",
        "command": [
          "--broker_pub=mosquitto_broker",
          "--port_pub=1883",
          "--topic_pub=c2",
          "--factory_id=facAsia002",
          "--servo_id=servoB4422",
          "--publish_rate=100"
        ]
      },
      "filter-avg": {
        "depends_on": [
          "mosquitto_broker"
        ],
        "build": {
          "context": "../images/demo010-filter-avg"
        },
        "networks": [
          "mosquitto-net"
        ],
        "image": "weevenetwork/filter-avg:demo",
        "command": [
          "--broker_sub=mosquitto_broker",
          "--port_sub=1883",
          "--topic_sub=c2",
          "--broker_pub=mosquitto_broker",
          "--port_pub=1883",
          "--topic_pub=c3",
          "--averaging=3000"
        ]
      },
      "parse-send": {
        "depends_on": [
          "mosquitto_broker"
        ],
        "build": {
          "context": "../images/demo010-parse-send"
        },
        "networks": [
          "mosquitto-net"
        ],
        "image": "weevenetwork/parse-send:demo",
        "command": [
          "--broker_sub=mosquitto_broker",
          "--port_sub=1883",
          "--topic_sub=c3",
          "--broker_pub=mosquitto_broker",
          "--port_pub=1883",
          "--topic_pub=weeveServo"
        ]
      }
    }
  }